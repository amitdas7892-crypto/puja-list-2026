<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Narayanpur Committee - Hisaab Portal</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #ff8000; --bg-dark: #0f172a; --card-bg: rgba(255, 255, 255, 0.05); --text-main: #f8fafc; --text-dim: #94a3b8; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: var(--bg-dark); background-image: radial-gradient(circle at 50% 0%, #1e293b 0%, #0f172a 100%); margin: 0; color: var(--text-main); min-height: 100vh; padding-bottom: 50px; }
        .container { padding: 0 16px; max-width: 480px; margin: 0 auto; }
        header { padding: 30px 20px; text-align: center; }
        .logo-text { font-size: 26px; font-weight: 800; background: linear-gradient(to right, #fff, #ffbd7a); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        /* üìä Financial Summary Card */
        .summary-card { background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.02)); border-radius: 28px; padding: 20px; margin-bottom: 25px; border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(15px); }
        .summary-title { font-size: 14px; color: var(--primary); font-weight: 800; text-transform: uppercase; margin-bottom: 15px; display: block; }
        .grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; }
        .mini-box { text-align: center; }
        .mini-box label { font-size: 10px; color: var(--text-dim); display: block; margin-bottom: 4px; }
        .mini-box span { font-size: 15px; font-weight: 700; }

        /* Expense Input Section */
        .expense-panel { background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.2); border-radius: 20px; padding: 15px; margin-bottom: 20px; display: flex; align-items: center; justify-content: space-between; }
        .expense-panel input { background: transparent; border: 1px solid #f87171; color: #f87171; padding: 8px; border-radius: 10px; width: 90px; text-align: center; font-weight: 800; }

        .puja-selector { display: flex; background: rgba(255,255,255,0.08); border-radius: 18px; margin-bottom: 20px; padding: 5px; border: 1px solid rgba(255,255,255,0.1); }
        .p-btn { flex: 1; border: none; background: none; color: var(--text-dim); padding: 12px; cursor: pointer; border-radius: 14px; font-weight: 700; }
        .p-btn.active { background: var(--primary); color: white; }

        .year-scroll { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 15px; scrollbar-width: none; }
        .year-pill { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); padding: 10px 20px; border-radius: 15px; font-weight: 600; cursor: pointer; color: var(--text-dim); white-space: nowrap; }
        .year-pill.active { border-color: var(--primary); color: var(--primary); background: rgba(255,128,0,0.05); }

        .list-card { background: var(--card-bg); border-radius: 30px; padding: 10px; border: 1px solid rgba(255,255,255,0.05); }
        .member-row { display: flex; align-items: center; justify-content: space-between; padding: 15px 10px; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .m-name { font-weight: 600; font-size: 14px; display: block; }
        .m-jama { font-size: 11px; color: var(--text-dim); }
        .badge { padding: 6px 10px; border-radius: 10px; font-size: 10px; font-weight: 800; text-align: center; min-width: 75px; }
        .paid { background: rgba(34, 197, 94, 0.2); color: #4ade80; }
        .due { background: rgba(239, 68, 68, 0.2); color: #f87171; }
    </style>
</head>
<body>

<header>
    <div class="logo-text">‡§®‡§æ‡§∞‡§æ‡§Ø‡§£‡§™‡•Å‡§∞ ‡§™‡•Ç‡§ú‡§æ ‡§ï‡§Æ‡•á‡§ü‡•Ä</div>
</header>

<div class="container">
    <div class="summary-card">
        <span class="summary-title">üìà ‡§∏‡§æ‡§≤ <span id="displayYear">2026</span> ‡§ï‡§æ ‡§≤‡•á‡§ñ‡§æ-‡§ú‡•ã‡§ñ‡§æ</span>
        <div class="grid-3">
            <div class="mini-box"><label>‡§ï‡•Å‡§≤ ‡§ö‡§Ç‡§¶‡§æ</label><span id="totalJama" style="color: #4ade80;">‚Çπ0</span></div>
            <div class="mini-box"><label>‡§ï‡•Å‡§≤ ‡§ñ‡§∞‡•ç‡§ö</label><span id="totalKharcha" style="color: #f87171;">‚Çπ0</span></div>
            <div class="mini-box"><label>‡§∂‡•Å‡§¶‡•ç‡§ß ‡§¨‡§ö‡§§</label><span id="netBachat" style="color: #38bdf8;">‚Çπ0</span></div>
        </div>
        <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.1); text-align: center;">
            <label style="font-size: 10px; color: var(--text-dim); text-transform: uppercase;">‡§ï‡•Å‡§≤ ‡§™‡•Å‡§∞‡§æ‡§®‡•Ä ‡§¨‡§ö‡•Ä ‡§∞‡§æ‡§∂‡§ø (2020-2026)</label>
            <div id="grandTotalBalance" style="font-size: 22px; font-weight: 800; color: #fff; margin-top: 5px;">‚Çπ0</div>
        </div>
    </div>

    <div class="expense-panel">
        <span style="font-size: 13px; font-weight: 600; color: #f87171;">üí∏ ‡§∏‡§æ‡§≤ ‡§ï‡§æ ‡§ñ‡§∞‡•ç‡§ö‡§æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç</span>
        <input type="number" id="inputKharcha" value="0" oninput="updateKharcha()">
    </div>

    <div class="puja-selector">
        <button class="p-btn active" onclick="switchPuja('yagya', this)">‡§Ø‡§ú‡•ç‡§û ‡§™‡•Ç‡§ú‡§æ</button>
        <button class="p-btn" onclick="switchPuja('burimaa', this)">‡§¨‡•Å‡§∞‡•Ä ‡§Æ‡§æ‡§Å</button>
    </div>

    <div class="year-scroll">
        <button class="year-pill active" onclick="setYear('2026', this)">2026</button>
        <button class="year-pill" onclick="setYear('2025', this)">2025</button>
        <button class="year-pill" onclick="setYear('2024', this)">2024</button>
        <button class="year-pill" onclick="setYear('2023', this)">2023</button>
        <button class="year-pill" onclick="setYear('2022', this)">2022</button>
        <button class="year-pill" onclick="setYear('2021', this)">2021</button>
        <button class="year-pill" onclick="setYear('2020', this)">2020</button>
    </div>

    <div class="list-card" id="listContent"></div>
</div>

<script>
    let currentPuja = 'yagya';
    let currentYear = '2026';
    const target = 2500;

    // Har saal ka kharcha yahan save hoga
    const expenses = { "2026": 5000, "2025": 4000, "2024": 3500, "2023": 3000, "2022": 2500, "2021": 2000, "2020": 1500 };

    const members = {
        "yagya": {
            "2026": [{n:"APU DAS", j:2500}, {n:"AJAY DAS", j:500}],
            "2025": [{n:"APU DAS", j:2500}],
            "2024": [], "2023": [], "2022": [], "2021": [], "2020": []
        },
        "burimaa": { "2026": [], "2025": [] }
    };

    function render() {
        document.getElementById('displayYear').innerText = currentYear;
        document.getElementById('inputKharcha').value = expenses[currentYear];
        
        const listDiv = document.getElementById('listContent');
        const data = members[currentPuja][currentYear] || [];
        listDiv.innerHTML = "";
        
        let yearlyJama = 0;
        data.forEach((m, i) => {
            yearlyJama += m.j;
            let status = m.j >= target ? `<div class="badge paid">PAID</div>` : `<div class="badge due">DUE ‚Çπ${target-m.j}</div>`;
            listDiv.innerHTML += `<div class="member-row"><div><span class="m-name">${m.n}</span><span class="m-jama">‡§ú‡§Æ‡§æ: ‚Çπ${m.j}</span></div>${status}</div>`;
        });

        // Calculations
        let yearlyKharcha = expenses[currentYear];
        let yearlyBachat = yearlyJama - yearlyKharcha;

        document.getElementById('totalJama').innerText = '‚Çπ' + yearlyJama;
        document.getElementById('totalKharcha').innerText = '‚Çπ' + yearlyKharcha;
        document.getElementById('netBachat').innerText = '‚Çπ' + yearlyBachat;

        // Calculate Grand Total Balance (2020 to 2026)
        let grandBalance = 0;
        Object.keys(expenses).forEach(yr => {
            let yrJama = 0;
            (members['yagya'][yr] || []).forEach(m => yrJama += m.j);
            (members['burimaa'][yr] || []).forEach(m => yrJama += m.j);
            grandBalance += (yrJama - expenses[yr]);
        });
        document.getElementById('grandTotalBalance').innerText = '‚Çπ' + grandBalance.toLocaleString();
    }

    function updateKharcha() {
        expenses[currentYear] = parseInt(document.getElementById('inputKharcha').value) || 0;
        render();
    }

    function switchPuja(type, btn) {
        currentPuja = type;
        document.querySelectorAll('.p-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        render();
    }

    function setYear(year, btn) {
        currentYear = year;
        document.querySelectorAll('.year-pill').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        render();
    }

    render();
</script>
</body>
</html>
