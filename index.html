<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Narayanpur Committee Portal</title>
    <style>
        :root { --primary: #fb8c00; --secondary: #ef6c00; --bg: #f8fafb; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); margin: 0; padding-bottom: 30px; }
        header { background: linear-gradient(135deg, var(--primary), var(--secondary)); color: white; padding: 25px 15px 50px; border-radius: 0 0 30px 30px; text-align: center; }
        .container { padding: 0 15px; max-width: 600px; margin: -30px auto 0; }
        
        /* Dashboard Stats */
        .stats-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 15px; }
        .stat-card { background: white; padding: 12px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); text-align: center; border: 1px solid #eee; }
        
        .admin-config { background: #fff3e0; padding: 10px; border-radius: 10px; margin-bottom: 15px; display: flex; align-items: center; justify-content: center; gap: 10px; font-size: 13px; font-weight: bold; color: #e65100; border: 1px dashed #ff9800; }
        .admin-config input { width: 70px; padding: 5px; border-radius: 5px; border: 1px solid #ff9800; text-align: center; font-weight: bold; }

        .year-scroller { display: flex; gap: 8px; overflow-x: auto; padding: 5px 0 15px; scrollbar-width: none; }
        .year-pill { background: white; border: 1px solid #ddd; padding: 6px 18px; border-radius: 20px; font-size: 13px; font-weight: 600; cursor: pointer; white-space: nowrap; color: #666; }
        .year-pill.active { background: var(--primary); color: white; border-color: var(--primary); }

        .search-container { background: white; border-radius: 15px; padding: 12px 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); margin-bottom: 15px; }
        .search-container input { border: none; width: 100%; outline: none; font-size: 16px; }

        .list-container { background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        table { width: 100%; border-collapse: collapse; }
        td, th { padding: 12px; border-bottom: 1px solid #f5f5f5; font-size: 13px; text-align: left; }
        
        /* Enhanced Status Badge */
        .status { padding: 4px 10px; border-radius: 6px; font-size: 11px; font-weight: bold; display: inline-block; min-width: 80px; text-align: center; }
        .paid { background: #e8f5e9; color: #2e7d32; }
        .due { background: #ffebee; color: #c62828; }
        
        .footer { text-align: center; padding: 20px; color: #aaa; font-size: 12px; }
    </style>
</head>
<body>

<header>
    <div style="font-size: 20px; font-weight: 800;">üõï ‡§®‡§æ‡§∞‡§æ‡§Ø‡§£‡§™‡•Å‡§∞ ‡§™‡•Ç‡§ú‡§æ ‡§ï‡§Æ‡•á‡§ü‡•Ä 
    villege-narayanpur po+ps-Abadpur barsoi katihar</div>
</header>

<div class="container">
    <div class="stats-row">
        <div class="stat-card"><small>‡§ï‡•Å‡§≤ ‡§ú‡§Æ‡§æ</small><div id="totalJama" style="color:green; font-weight:bold; font-size:18px;">‚Çπ0</div></div>
        <div class="stat-card"><small>‡§ï‡•Å‡§≤ ‡§¨‡§æ‡§ï‡•Ä</small><div id="totalDue" style="color:red; font-weight:bold; font-size:18px;">‚Çπ0</div></div>
    </div>

    <div class="admin-config">
        üéØ ‡§ö‡§Ç‡§¶‡§æ ‡§∞‡§æ‡§∂‡§ø (Target): ‚Çπ <input type="number" id="chandaTarget" value="2500" oninput="render()">
    </div>

    <div class="year-scroller">
        <div class="year-pill active">2026</div>
        <div class="year-pill">2025</div>
        <div class="year-pill">2024</div>
    </div>

    <div class="search-container">
        <input type="text" id="searchInput" onkeyup="search()" placeholder="üîç ‡§∏‡§¶‡§∏‡•ç‡§Ø ‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§ñ‡•ã‡§ú‡•á‡§Ç...">
    </div>

    <div class="list-container">
        <table>
            <thead><tr><th>‡§∏‡§¶‡§∏‡•ç‡§Ø</th><th>‡§ú‡§Æ‡§æ</th><th>STATUS (BAAKI)</th></tr></thead>
            <tbody id="tableBody"></tbody>
        </table>
    </div>

    <div class="footer">ADMIN: <b>AMIT DAS</b></div>
</div>

<script>
    const allData = [
        { n: "APU DAS", j: 500 }, { n: "AJAY DAS", j: 0 }, { n: "SASTY DAS", j: 0 }, { n: "LULA DAS", j: 0 },
        { n: "SAMBHU DAS", j: 2500 }, { n: "PRAKASH DAS", j: 0 }, { n: "DILIP PAUL", j: 0 }, { n: "DIPU PAUL", j: 0 },
        { n: "SUKTU DAS", j: 0 }, { n: "LALTU DAS", j: 0 }, { n: "SANJIT DAS", j: 200 }, { n: "AJIT DAS", j: 0 }
    ];

    function render() {
        const target = parseInt(document.getElementById('chandaTarget').value) || 0;
        const tableBody = document.getElementById('tableBody');
        tableBody.innerHTML = "";
        let tJ = 0, tD = 0;

        allData.forEach((m, index) => {
            let baaki = target - m.j;
            if(baaki < 0) baaki = 0;
            tJ += m.j; tD += baaki;
            
            // Status Logic: Agar poora jama hai toh PAID, warna DUE (‚ÇπBaaki)
            let statusHTML = m.j >= target 
                ? `<span class="status paid">PAID</span>` 
                : `<span class="status due">DUE (‚Çπ${baaki})</span>`;

            tableBody.innerHTML += `<tr>
                <td>${index + 1}. <b>${m.n}</b></td>
                <td>‚Çπ${m.j}</td>
                <td>${statusHTML}</td>
            </tr>`;
        });
        document.getElementById('totalJama').innerText = '‚Çπ' + tJ;
        document.getElementById('totalDue').innerText = '‚Çπ' + tD;
    }

    function search() {
        let filter = document.getElementById("searchInput").value.toUpperCase();
        let tr = document.getElementById('tableBody').getElementsByTagName("tr");
        for (let i = 0; i < tr.length; i++) {
            tr[i].style.display = tr[i].innerText.toUpperCase().indexOf(filter) > -1 ? "" : "none";
        }
    }
    render();
</script>
</body>
</html>
